# Shareflow - Milestone Project 3

![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/device-mockup.PNG)

## Website Description
This website is designed to be a text based social media website for people to share their thoughts and opinions on a range of topics and to interact and engage with other users and their posts. Designing the website I intended to maximise the clarity and visibility of the user’s content and the ease and usability of interaction and navigation above all other considerations. 

The thinking behind this process was that as a social media site the content and the ease of creating, navigating and filtering that content would be integral to the user experience of the website. In order to pursue this ideal the website has a number of features aimed to elevate the importance and visibility of user’s posts and to allow them to view and interact with posts in a number of different ways.

## User Experience / UX
### User Stories
### First time visitor
  1. **As first time visitor I should be able to understand the purpose and function of the website.**

  1. **As first time visitor I should be able to understand the navigation structure and how to interact with the website**
 
  1. **As first time visitor I want to view posts relating to a specific topic**

  1. **As first time visitor I want to view the most popular posts**

  1. **As first time visitor I want to register an account**

### Return user 
  1. **As a return visitor I want to sign in to my account**

  1. **As a return visitor I want to be able make a post**

  1. **As a return visitor I should be able to edit my post**

  1. **As a return visitor I should be able to delete my post**

  1. **As a return visitor I should be able to view the comments made on a post**

  1. **As a return visitor I want to be able to comment on another user’s post**

  1. **As a return visitor I want to be able to show support for a post**

  1. **As a return visitor I should be able to view posts that they have previously shown support for**

  1. **As a return visitor I should be able to view all of my posts conveniently**

  1. **As a return visitor I would like to be able to change mytheir account avatar**

  1. **As a return visitor I would like to be able to use an image url to generate a image as my avatar**

### Site administrators
  1. **As the site administrator I should be able to edit or delete any post**

### Design

#### Design Overview
There were two driving principles behind the design were firstly to create an environment in which there is a clear hierarchy of importance with user’s content and posts being foremost in importance and secondly to create an easily understandable and intuitive navigation and interaction interface.

#### Colour Scheme
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/shareflow-primary-colour-scheme.png)
#### Primary Colours
These three colours are the primary colours of the website, they make up the background colours of the majority of visual elements on the page. The three primary colours, are, as above in the image #FFFFFF, #89A6FB and #1B263B. 

#89A6FB is used as the main branding colour of the website. This colour was chosen as it’s a very calm colour that wouldn’t be too distracting or too eye catching for the user. As well as that, as a purple shade, when it is combined with white text it creates a minimal and in my opinion very clean aesthetic. This aesthetic was something that I really valued and placed importance on as creating a clean interface with clear hierarchical importance was something I valued in the design of this project. 

#FFFFFF, or plain white was used to highlight elements that were related to of central importance to the user or to the page that they were on. For instance, on the Home page, the elements that hold the most importance to the user were, the post filtering and sorting options as well as the posts themselves. These elements therefore, are primarily white, which when contrasted against #1B263B, a dark navy colour, and the background colour of each page stand out very clearly and immediately pop into the eye of the user. 

As a user scrolls down the page or navigates through the website their eye is immediately drawn to the most important information and most important points of interaction which is an feature that was very important to achieve to help the user understand and feel comfortable using the site and browsing the site’s content.

![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/shareflow-topics-colour-scheme.png)

#### Secondary colours in use in the site exist to create a distinction between posts relating to different topics. I decided to undertake this route, with a clear visual cue indication the post’s topic as I believed that it could foster an almost subconscious and very quick understanding of a post’s content and allow a user who was scrolling through the website to quickly find posts that might interest them without necessarily having to use the filtering functionality.

#### Typography
The two fonts in use in the website are Montserrat and Libre Franklin. These two fonts are visibly distinct although both were chosen as clean, minimal and easy to read fonts. Montserrat is used throughout the site in areas that needed to be highlighted and set apart in times of importance and visibility. It is used in navigation elements, headings and titles as well as in form elements. Libre Franklin on the other hand is a more visually simple font and so is used in paragraph elements and other locations were the user would be expected to read a longer section of text. 

#### Imagery
There aren’t many images used in the website. Following the idea of being more of a message board than a typical social media website the features and functionality of the website are primarily centered around the sharing of ideas and text, as opposed to the sharing of imagery.
There are however user avatars and pictures. Whenever a user registers an account they are given a placeholder avatar. If they then go to the account page they are able to either choose a different avatar or enter a url linking to an image that they wish to use. After they submit the form their account image will be updated and on any post that they make their image will be displayed. 

The user’s image is also displayed on the user’s account page itself, alongside some of the user’s profile statistics and information in order to encourage the user to create a sense of identity and ownership with the account.

### Wireframes

The wireframes for the website were developed using [Figma](https://www.figma.com/) 

 -   Home Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/home_desktop.png)

 -   Home Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/home_tablet.png)

 -   Home Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/home_mobile.png)

 -   Create Post Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/create_desktop.png)

 -   Create Post Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/create_tablet.png)

 -   Create Post Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/create_mobile.png)

 -   Edit Post Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/edit_desktop.png)
 
 -   Edit Post Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/edit_tablet.png)
 
 -   Edit Post Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/edit_mobile.png)

 -   Post Details Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/post_details_desktop.png)

 -   Post Details Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/post_details_tablet.png)

 -   Post Details Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/post_details_mobile.png)

 -   Account Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/account_desktop.png)
 
 -   Account Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/account_tablet.png)

 -   Account Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/account_mobile.png)

 -   Sign Up Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/sign_up_desktop.png)

 -   Sign Up Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/sign_up_tablet.png)

 -   Sign Up Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/sign_up_mobile.png)


### Database Design / Data Modelling

The project uses a MongoDB nonrelational database to store it's data. Data is stored across three collections, the Posts collection, the Users collection and the Topics collection.

#### Posts Collection

![Image of post collection object](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/post_data_object.PNG)

The posts collection is where all of the posts made by users are stored in the database. It use's MongoDB's ObjectId value as a unique identifier and stores all other details necessary to the display and tracking of the post in it's data fields.

    id:             ObjectId: unique identifier of each post object, generated by MongoDB  
    post_title:     string: contains the post's title, input by the user in the post creation form  
    post_content:   string: contains the post's text content, input by the user in the post creation form  
    topic_name:     string: contains the post's topic, selected by the user in post creation form represents an object of the topics collection  
    author:         string: contains the name of the author of the post, taken from the 'user' attribute of the session cookie  
    post_date:      string: contains the date and time that the post was created, generated 
                            using python's datetime module and output in the MM:DD:YYYY, HH:MM:SS format  
    plusses:        int32:  contains the total tally of votes awarded by users, tracks the current
                            value so if a user changes their vote it will reduce by 1  
    total_comments: int32:  contains the tally of comments on the post  
    users_voted:    array:  contains a list of users who have voted on the post  
    comments:       array:  contains a list of comments made on the post  

    comment:        object: stored in the comments array  
       comment_id:      string: unique identifier of the comment, generated by taking the post's 
                                id value and attaching the post's (total_comments + 1)  
       comment_content: string: contains the text content of the comment  
       author:          string: contains the name of the comment's author  
       post_date:       string: contains the date and time that the comment was created, generated 
                                using python's datetime module and output in the MM:DD:YYYY, HH:MM:SS format 
 


#### Users Collection

![Image of users collection object](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_data_object.PNG)

The users collection is where all of the users account details and interaction history is stored. It is used to store a user's login details as well as account statistics and a history of the user's posts comments and votes.

    id:             ObjectId: unique identifier of each user object, generated by MongoDB  
    username:       string: contains the user's username taken from the registration form  
    password:       string: contains the hashed value of the user's password, taken from the user registration form and hashed using werkzeug  
    voted:          array:  contains the list of posts that a user has voted on, whenever a user votes on a post
                            the post's id value is appended to this list  
    account_image:  string: contains the href location of the avatar selected by the user, or a url if the user
                            has input a url directly  
    directly_input_url: binary: this binary value states whether the user has input a url as an avatar selection
                                or not used to inform the display of the avatar selection modal  
    registration_date: string: this field contains the date that the user registered their account, it is generated
                               using python's date module and is used to provide an account age to the user  
    posts_made:     int32:  contains the cumulative tally of posts that the user has made  
    comments_made:  int32: contains the cumulative tally of comments that the user has made  
    plusses:        int32: contains the active tally of plus votes that a user's posts has received  
    comments:       array: contains a list of comments made on the post 
    
    comment:        object: stored in the comments array  

       comment_id:      string: unique identifier of the comment, generated by taking the post's id value and
                                attaching the post's (total_comments + 1)  
       comment_content: string: contains the text content of the comment  
       author:          string: contain
       s the name of the comment's author  
       post_date:       string: contains the date and time that the comment was created, generated using python's
                                datetime module and output in the MM:DD:YYYY, HH:MM:SS format  
       attached_post:   string: contains the id value of the post that the comment is attached to  

#### Topics Collection

![Image of topics collection object](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/topic_data_object.PNG)

The topics collection and data record is currently very basic. I have included it in the website in the idea of developing it further in the future to allow for site administrator's to add new topics, edit topic details and so on.

## Features

### Home Page

![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/home_page.png)

The home page has two major roles. Firstly, it’s role is to introduce the user to the website and enable them to understand it’s purpose and functionality. Secondly the home page is the primary means of exploring user’s posts and discovering new ideas and discussions.

In order to achieve the first goal I aimed to make the purpose of the home page as simple and clear as possible. Upon loading the page the user is presented with a column of posts down the center of the page with a toolbar just above them with options to filter and sort. The user upon interacting with the scrollable list of posts will get an idea of the purpose of the site and will understand that this is an environment for creating and sharing posts.

The second goal of the home page to be the primary post navigation screen is achieved by utilising a number of smaller features to make the functionality of viewing and exploring posts as convenient and intuitive as possible.

### Post Filter and Sort Toolbar
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/filter-feature.PNG)

At the top of the home page is a toolbar containing two dropdown options that allow users to customise the appearance and display of posts in order to improve the page’s practical usability and make it more user friendly. The User can both sort and filter the posts displayed. The options for sorting posts are to sort by date created, which is the default setting of the page and which will display the newest posts at the top of the page with older ones chronologically below it, or by most popular. The Most popular sort uses the voting system attached to each post and sorts the posts from most votes tallied to least. This is a very useful tool to find the most interesting or engaging posts as opposed to just the newest and can provide a very different post browsing experience.
The filter options for the posts, allow the user to display all of the posts, across all topics, or by one of the five topics provided. The five topics being Sports, Entertainment, Global News, Politics and General Thoughts. This filtering functionality allows the user to explore posts relating to one topic that may interest them in particular and increases the usefulness of the post display.

### Pagination 
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/pagination-features.PNG)

The home page makes use of pagination to display only a certain number of posts at a time to the user. It does this for a couple of reasons. Number one, instead of displaying all of the posts initially and forcing the user’s browser to load them all at once, which would be increasingly impractical if there was a large number of posts it will load the posts 10 at a time to lower the demand on the browser. Number two it will allow a user to easily navigate back and forth between the pages to find posts that they like without having to scroll and search for the post.

### Create post floating action button
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/fab-feature.PNG)

This floating action button is a fixed element on the bottom right of the screen. Since it is fixed it will stay in position even as a user scrolls down the page. When the user hovers over the button a label will appear with the text ‘Create a Post’, and when the user clicks the button the page will be redirected directly to the Create a Post page. This button is there to add another option to navigate to the post creation page, and provides an option for mobile users to create a post without having to reach to the top of the screen which can be inconvenient and un ergonomic.

### Create post page
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/create_post_page.png)

The create post page is very simple and consists of a single form titled ‘Post Details’. The form is where the user can input the details of the post. The form contains an input box for the title, a textarea input for the post content and a dropdown selection for the post topic. The dropdown selection is populated with the five topics available. To ensure that the website’s posts both maintain a consistent size on the page as well as to ensure that the posts maintain a reasonable standard of effort there are minimum character requirements for both the title and the post content. When the user submits the page they will automatically be directed to the home page and the newest posts.

### Edit Post Page
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/edit_post_page.png)

The edit post page is similar to the the create post page, it contains a form in the same format and styling. When a user selects the option to edit their post, the page loads with the existing details of the post prefilled and editable. When the user has edited the post to their satisfaction they can submit and they will be redirected to the posts details page for that post.


### 404 Page
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/404_page.png)

In the event that a user attempts to navigate to a page that either does not exist or has been deleted the flask routing will redirect them to the 404 response page. This page is very basic and acts as a landing page in the case of a load error. It consists of a header text explaining that the page the user has tried to load doesn’t exist and a subheading providing a countdown to when the page will automatically redirect to the home page. The subheading also contains a link to the home page in the case that the page does not automatically redirect. 

### Sign in / Registration Page 

![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/sign_in_page.png)
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/register_page.png)

The sign in and registration pages are mirrored versions of themselves. They consist of a central card containing a form, in the case of the sign in page, consisting of two input fields one for their username and one for their password and in the case of the registration form three fields one for their desired username, one for their intended password and another to repeat their password for validation. In the case that the user submits a username that is not available or that they submit passwords that are not matching they will receive a validation message informing them that their input does not meet the requirements. 

### Post Details Page
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/post_details_page.png)

The post details page is where a post is displayed when a user selects the ‘View Post’ option from either their profile or from the home page. The page contains the same information as the regular post view with the basic post details as well as the voting button. Additionally there is a close button on the top right of the card which will return the user to the page that they were on remembering the pagination status of that page.

As well as the post details the page contains a comment section that will display the total comment count if there are any otherwise it will display a placeholder message. The section contains a form where a user can submit a comment and then below that the comments of the post are displayed in chronological order starting with the oldest.


### Account Page
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/account_page.png)

The user’s account page is unique to them and generated using data gathered from their interaction with the website and with other user’s posts. The page consists of two sections, the first is the account details section where the user’s username is displayed along with their avatar or chosen image and a display of some statistics relating to the user’s engagement with the website. 
The second section is the post display container. The post display container consists of a toggleable display that will either display the posts authored by the user, which is the default display or the posts ‘plussed’ by the user. The idea behind the toggleable display is to allow the user to view their own posts or to view the posts that they had plussed. This is a useful feature that practically allows a user to save posts that they want to view again in the future simply by voting for it.

### Account details
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/account_details.PNG)

This is the account details display, it takes values from the user’s database record to inform the total posts made total comments and total votes received. It also displays the length of time since the account was registered.


### Display tab
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/display_tab.PNG)

There are two display tabs one for users posts and one for posts that the user has voted for. They are displayed in paginated lists and the page will only display one tab at a time. To ensure user experience is as seamless and intuitive as possible the page will remember the status of both pagination lists as well as the active tab whenever the page reloads or a user navigates back to the page from the post details page.

### Avatar Selection
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/avatar_select.PNG)

Whenever the user clicks on the account image in the account details section of their account page, a modal will display with a radio selection option of either selecting one of a number of provided avatars or selecting the option to input a url that leads to an image of their choice. The url input will automatically validate that the url relates to an image and that the url loads an image successfully. If it does not, the user will be alerted that the url they entered is not valid. This avatar will be displayed on all posts authored by the user to create a sense of a community of people as opposed to just anonymous posts.

### Flash messages
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/flash_message.PNG)

Whenever a user takes an action that causes the page to update or reload such as commenting, editing a post, signing in, signout etc. The page will display a message in the center of the screen informing the user of the success or the failure of the action.

### Post Card
![Image of responsive page mockups](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/post-feature.PNG)

The Post card itself is the primary way in which a post is displayed. The post contains a plus which can be clicked on to vote on the post, this will also enable the post to be displayed in the plussed posts tab of the user’s account page. an button which will navigate the user to the post details page for that post 

### Logical routing behaviour
There are some interactions with the site that in order to provide a satisfying and logical experience for the user needs to recall the user’s previous actions. The most complex example of this is when a user on their account page changes the active tab of the account page and changes the active page of the pagination menu, then proceeds to navigate into the post details page of a post and open up the edit post page for that post. In this instance the website will recall the previous user’s path to the page and the account page’s pagination and tab arguments from when the user was last on the page. To ensure satisfying user experience the page will return the user to the post details page when the edit page is closed and then return the user to the account page with the correct pagination status and with the correct tab open when the user closes the post details page.


## Technologies Used

### Languages Used

-   [HTML5](https://en.wikipedia.org/wiki/HTML5)
-   [CSS3](https://en.wikipedia.org/wiki/Cascading_Style_Sheets)
-   [JavaScript](https://www.javascript.com/)
-   [Python](https://www.python.org/)

### Frameworks, Libraries & Programs Used

1. [Bootstrap 5.0:](https://getbootstrap.com/)
  - Bootstrap was used to create the initial base template of the design that was then built on top of and customised further using CSS.
 
2. [Google Fonts:](https://fonts.google.com/)
  - Google fonts was used to import the fonts that were used as the primary typography on the website.
 
3. [Font Awesome:](https://fontawesome.com/)
  - Font Awesome's icon library was used to reinforce sections and information points throughout the website.
 
4. [jQuery:](https://jquery.com/)
  - Bootstrap's jQuery library is in use on the website to increase the functionality of some Bootstrap components.
 
5. [Git](https://git-scm.com/)
  - Git was used as the primary version control software for the project. It was operated using the Gitpod terminal.
 
6. [GitHub:](https://github.com/)
  - GitHub is where the project is stored. It was also used to view version control changes.
 
7. [Gitpod](https://gitpod.io/)
  - Gitpod was the IDE used to program the website.
 
8. [Coolors](https://coolors.co/)
  - Coolors was used to generate colours for a scheme that was harmonious and evoked the desired aesthetic.
 
9. [Figma](https://www.figma.com/)
  - Figma was used to generate the initial wireframes and mockups that were used to inform the programming of the website.

10. [Responsive Viewer](https://chrome.google.com/webstore/detail/responsive-viewer/inmopeiepgfljkpkidclfgbgbmfcennb?hl=en)
  - This chrome web extension was used as it allows for multiple views of a website at multiple scales and device sizes at once. It was used for testing of responsive design.
 
11. [Chrome DevTools](https://developers.google.com/web/tools/chrome-devtools)
 - DevTools was used for analysing the code and design of the practice during development. Also used to test changes in real-time.
 
12. [Pymongo](https://pypi.org/project/pymongo/)
- Pymongo is the python library used to allow interaction with the shareflow mongodb database.
 
13. [Flask](https://flask.palletsprojects.com/en/1.1.x/)
- Flask is a python framework, used extensively for routing and rendering pages along with jinja.

14. [Flask-paginate](https://pythonhosted.org/Flask-paginate/)
- Flask-paginate is a flask extension which enables pagination of lists

15. [Hover.css](https://ianlunn.github.io/Hover/)
- Hover.css was used to implement hover effects on several elements.

16. [Werkzeug](https://werkzeug.palletsprojects.com/en/1.0.x/)
- Werkzeug was neceassary for Flask's full operation, also used for password hashing

17. [Heroku](https://dashboard.heroku.com/apps)
- Heroku is the cloud platform where the live version of this project is hosted

18. [MongoDB](https://www.mongodb.com/)
- Papa Parse was used to parse the CSV file containing the full list of countries and their two-character country codes.

19. [Chrome Lighthouse](https://developers.google.com/web/tools/lighthouse)
- Chrome Lighthouse was used to analyse and test page load speeds and page performance.

20. [Multi Device Website Mockup Generator](https://techsini.com/multi-mockup/index.php)
- This website was used to generate the image at the top of the readme.md file.
- 
21. [Jinja](https://jinja.palletsprojects.com/en/2.11.x/)
- Jinja is used by and in conjunction with Flask to enable templating of html pages.

### Testing

### Browser and Device Size Testing
The website was tested thoroughly across all major browsers and all screen and devices sizes down to 360px. 

- [Mozilla Firefox](https://www.mozilla.org/en-US/firefox/)

- [Google Chrome](https://www.google.com/intl/en_ie/chrome/)

- [Microsoft Edge](https://www.microsoft.com/en-us/edge)

- [Opera](https://www.opera.com/)

- A full range of sizes and devices using Chrome DevTools, [Responsive Viewer](https://chrome.google.com/webstore/detail/responsive-viewer/inmopeiepgfljkpkidclfgbgbmfcennb?hl=en) and [Am I Responsive?](http://ami.responsivedesign.is/)

### Code Validation

At the end of the project, the code was put through CSS and HTML validators to ensure there were no errors presented.

#### HTML validation [W3 Nu HTML validator](https://validator.w3.org/nu/)
#### Home page html validation
![Image of home page results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/home_page_html.png)

#### Post Details page html validation
![Image of post details page results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/details_html.png)

#### Account page html validation
![Image of account page results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/account_html.png)

#### Create Post page html validation
![Image of create post page results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/create_html.png)

#### Edit Post page html validation
![Image of edit post page results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/edit_post_html.png)

#### Sign Up page html validation
![Image of sign up page results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/register_html.png)

#### Sign In page html validation
![Image of sign in page results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/sign_in_html.png)

#### Python Validation [PEP8 online check](http://pep8online.com/)
#### app.py python validation            
![Image of python validator results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/python_validation.png)

#### CSS Validation [W3C CSS Validator](https://jigsaw.w3.org/css-validator/)
#### style.css css validation
![Image of css validator results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/css_validation.png)

#### Javascript Validation [JSHint](https://jshint.com/)
#### script.js validation
![Image of Js linter results](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/script.js-validation.png)

### Performance Testing

To ensure that the website performed well and loaded all pages quickly I tested each page using [Lighthouse](https://developers.google.com/web/tools/lighthouse) where all pages received positive results

#### Home Page 
![Image of home page performance test](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/lighthouse-home.PNG)

#### Create Post Page
![Image of create post page performance test](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/lighthouse-create.PNG)

#### Sign In Page
![Image of sign in page performance test](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/lighthouse-sign-in.PNG)

#### Register Page
![Image of register performance test](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/lighthouse-register.PNG)

#### Account Page
![Image of account page performance test](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/lighthouse-account.PNG)

#### Post Details Page
![Image of post details page performance test](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/shareflow-post-details.PNG)

#### Edit Post Page
![Image of edit post page performance test](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/lighthouse-edit.PNG)



### Testing User Stories from User Experience (UX) Section
#### First Time User Stories

#### 1.    Goal: As a first time visitor I should be able to understand the purpose and function of the website.

**Expected:** When the user accesses the website for the first time they should be presented with a home page that makes it clear that it is a social media environment centered around sharing posts.

**Result:** Upon arriving at the home page, the user is presented with the primary post display. The posts are clearly labelled with topic names as well clearly labelled buttons and navigation elements.

![Image of main post view](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/home_page.png)

#### 2.    Goal: As a first time visitor I should be able to understand the navigation structure and how to interact with the website

**Expected:** Wherever the user is on the website they should be able to immediately identify and locate the navigation structure.

**Result:** The navigation bar is fixed at the top of the screen so that the user can always identify it, even if they have scrolled down the page.

![Image of navbar](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_navbar.PNG)

#### 3.    Goal: As a first time visitor I want to be able to view posts relating to a specific topic.

**Expected:** The user should be able to filter the display of posts to see posts related to a single topic.

**Result:** The user can select a topic from the select element of the toolbar at the top of the home page. If they then click the ‘Go’ button, the page will reload only displaying posts relating to the chosen topic.

![Image of the filter options](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_filter.PNG)

#### 4.    Goal: As a first time visitor I want to view the most popular posts.

**Expected:** The user should be able to change the method through which the display of posts is sorted in order to view the most popular posts.

**Result:** The user can use the toolbar at the top of the homepage to select ‘Most Popular” from the sort select element. If they then click the ‘Go’ button the page will reload with posts sorted by the number of votes they have received instead of by date posted.

![Image of the sort options](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_sort.PNG)

#### 5.    Goal: As a first time visitor I want to register an account.

**Expected:** The user should be able to easily create an account that they can use to access all of the site’s features.

**Result:** Upon loading the website for the first time the user can navigate to the Register page. By entering their details in the Registration form and clicking the submit button the user will then have their details saved in the database. Upon submission the user will be relocated to the home page, signed in, and presented with a flash message informing them that the registration was successful.

![Image of the registration form](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_register.PNG)

#### Return Visitor Stories
#### 1.    Goal: As a return visitor I want to sign in to my account.

**Expected:** The user should be able to easily navigate to the appropriate page and from there input their details to sign in to their account.

**Result:** Upon returning to the website the user can navigate to the Sign In page using the sign in link in the navbar. By entering the correct details in the sign in form and clicking submit the user can sign in to their account and gain access to the related privileges.

![Image of the sign in form](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_sign_in.PNG)

#### 2.    Goal: As a return visitor I want to be able make a post.

**Expected:** The user should be able to create a post that will then be displayed on the site for others to see and interact with.

**Result:** Upon loading the website and arriving on the home page the user has two options to navigate to the post creation page. They can either select the link on the navbar or click the floating action page with a plus icon it fixed to the bottom right of the home page. 

After navigating to the post creation page the user can input their desired Post title, Post content and select their desired post Topic from a dropdown selection. After filling in the form the user can click the Add button, which will submit the post to the database. 

The user will then be redirected to the home page where their post will be visible to all, and they will be presented with a flash message informing them that the operaction was successful. 

![Image of the post creation](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_create.PNG)

#### 3.    Goal: As a return visitor I should be able to edit my post.

**Expected:** The user should be able to select an option on any of their posts to edit the content of the post and have the post permanently updated.

**Result:** On any post authored by the user the user can select the ‘cog’ icon which will present the user will a dropdown menu of operations that they can perform on their post. When they select the ‘ Edit post’ option they will be redirected to the edit post form where the posts details will be filled in. By changing any of the filled in details and clicking the ‘Save changes’ button the post will be permanently updated with the altered content. 

![Image of the post edit option](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_edit_option.PNG)

The user will then be redirected to the post details page for that page with a flash message displayed informing them that the post was edited successfully.

![Image of the post edit form](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_edit.PNG)

#### 4.    Goal: As a return visitor I should be able to delete my post.

**Expected:** The user should be able to select an option on any of their posts to permanently delete their post.

**Result:** On any post authored by the user the user can select the ‘cog’ icon which will present the user will a dropdown menu of operations that they can perform on their post. By selecting the ‘Delete Post’ the post will be permanently removed from the website and all records of it will be removed from the database.

![Image of the post edit option](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_edit_option.PNG)
![Image of the post deletion option](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_delete.PNG)

#### 5.    Goal: As a return visitor I should be able to view the comments made on a post.

**Expected:** The user should be able to view all of the comments that have been made on a post.

**Result:** By selecting the ‘View Post’ button on a post the user will be navigated to the post details page for that post. On that page just below the post’s content is the comment section containing all of the post’s comments.


![Image of the comment section](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_comment_section.PNG)

#### 6.    Goal: As a return visitor I want to be able to comment on another user’s post.

**Expected:** The user should be able to make a comment on another user’s post that will then be displayed on that post for other user’s to see.

**Result:** By navigating to a post’s post details page the user can scroll down to the comment section and user the Add comment form to type out their comment and submit it. After the comment is submit the page will reload and display the comment at the bottom of the comment section, the user will also be presented with a flash message informing them that the comment was added successfully.

![Image of the comment form](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_add_comment.PNG)

#### 7.    Goal: As a return visitor I want to be able to show support for a post.

**Expected:** The user should be able to show support to a post that they like or that interests them that would be meaningfully on the post.

**Result:** The user can select the ‘+’ icon on any post to increase that post’s vote tally by 1. When the user clicks the button the current tally which is displayed below the icon will be updated to reflect the user’s vote. The ‘+’ icon will switch to a tick icon to provide feedback to the user that the vote was registered.

![Image of the post voting button](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/vote.PNG)
![Image of the post voted button](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/vote-check.PNG)

#### 8.    Goal: As a return visitor I should be able to view posts that they have previously shown support for

**Expected:** The user should be able to revisit any posts that they have plussed in the past.

**Result:** The user can view all of the posts that they have previously voted for by navigating to their account page. By then selecting the ‘Plused Posts’ tab in the center of the page the page will display off the posts that the user has voted for, in a paginated list.

![Image of the plussed posts tab](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_plussed.PNG)

#### 9.    Goal: As a return visitor I should be able to view all of my posts conveniently.

**Expected:** The user should be able to conveniently view all of their own posts in one location.

**Result:** When the user navigates to their account page, they will be presented with all of their posts displayed down the center of the page.

![Image of the user posts tab](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_posted.PNG)

#### 10.    Goal: As a return visitor I would like to be able to change my account avatar

**Expected:** The user should be able to change the avatar that is associated with their account and have that change reflected in all of their posts.

**Result:** On the account page the user can select the ‘Update Image’ option just below their current avatar. After selecting the option the user will be presented with a modal window offering two options to change their avatar. The first is to enter the url of an image that they wish to use and the second is to select one of the provided avatars. 

![Image of the avatar modal](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_av_option.PNG)

If the user selects one of the provided avatars and clicks the save button then the updated avatar selection will be saved in their user record in the database. The page will then reload and the avatar on the page along with the avatar on each of the user’s posts will have updated to reflect the new choice. The user will also be presented with a flash message informing them that the operation was successful.

![Image of the avatar modal](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/avatar_select.PNG)

#### 11.    Goal: As a return visitor I would like to be able to use an image url to generate a image as my avatar.


**Expected:** The user should be able to directly input the url of an image on the internet, and then have that image be used as their account avatar on their account page and on any posts they make.

**Result:** On the account page the user can select the ‘Update Image’ option just below their current avatar. After selecting the option the user will be presented with a modal window offering two options to change their avatar. The first is to enter the url of an image that they wish to use and the second is to select one of the provided avatars. 

If the user selects the url input option and then inserts a url for image into the form and submits it. The page will first validate the link, and if it is a valid image the user’s record will be updated with the new image. The page will then reload and the avatar on the page along with the avatar on each of the user’s posts will have updated to reflect the new choice. The user will also be presented with a flash message informing them that the operation was successful.

![Image of the url input form](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_av_link.PNG)

#### Administrator Stories

#### 1. Goal: As the site administrator I should be able to edit or delete any post.

**Expected:** As the site administrator, the user should be able to access the post edit and delete options for all posts.

**Result:** When signed in as the Admin account the user is presented with the post option cog button for all posts. When the user clicks on the button the dropdown menu containing the two options is displayed and if the user clicks either one of the buttons the page will treat their action as though they are the creator of the post and either direct them to the edit post page, or delete the post.

![Image of the admin's page view](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/user_admin.PNG)

### Manual Functionality Testing


### Bugs Discovered 

1.
The first bug that i will highlight is an issue that arose regarding the display of plussed posts on the account page. The issue, as seen in the image below that arose was that the number of posts that were displaying on the individual paginated pages were inconsistent and often less than the designated number.

![Image of posts per paginated page issue](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/account_plussed_issue.PNG)

After investigating the issue I figured out that issue was arising because of the way in which the posts were being displayed. In order to not display the posts that the user themselves had authored and then plussed in the plussed tab as well as in the authored posts tab, a conditional statement was being implemented before the jinja templating rendered the post as seen in the following code block.

    {% for post in userPlusses%}
      {% if post.author != session['user'] %}
         <div class="post-card">

While this code had the desired effect of displaying all of the plussed posts except for the self authored ones it was causing an issue as the self authored posts were still included in the original list that was then sliced to create the smaller lists for pagination purposes. This was resulting in the shortened list that was to be displayed as one page of posts and that was supposed to be 10 posts long potentially having no displayable posts.

Once the problem and its cause was fully known the fix was straightforward enough. It involved iterating through the list of plussed posts in the original python function, and if the posts were not self authored then they would be added to a list that was then used to created the paginated lists and output by the function and rendered on the page.

    userPlusses = []
    postsPlussed = list(
          mongo.db.posts.find({"users_voted": session["user"]})
    for post in postsPlussed:
          if post[author] != session['user']:
                userPlusses.append(post)

![Image of posts per paginated page issue resolution](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/account_plussed_resolved.PNG)

2. 
Another bug that I encountered and will highlight was a bug that was relating to the handling of a database update request. It was a small issue but required some figuring out none the less. The issue was caused by attempting to add a comment to a post which would result in the page failing to reload and presenting an error message.

![Image of error message on add comment attempt](https://github.com/zackgithuboriginal/shareflow-milestone-project-3/blob/master/static/images/readme_images/comments_object_issue.PNG)

After examining the error message which stated that "the field 'comments' must be an array but is of type object." I looked into the structure of the post object and the comments field. As the error message stated it was the incorrect type and that was causing an issue because the manner in which the new comment was being added was with a '$push' operator which works by adding an item to an array. By simply changing the comments field of the post object from

```
post = {
        ...
        'comments': {},
        ...
        }
```

to 

```
post = {
        ...
        'comments': [],
        ...
        }
```

it allowed for a new comment to be pushed to the array and stored in the field. The page would then load successfully and allow for comments to be added once again.


## Deployment

### To Publish to Heroku

### To Clone the Repository and Run Locally

#### To Clone Using the Command Line

#### To Clone Using GitHub Desktop

#### To Run the Project Locally

## Credits

### Code

-   [Bootstrap](https://getbootstrap.com/) library ver. 5 is used throughout the project to make the site responsive and provide the base components/ structure.

-   [Stackoverflow post by jfriend00](https://stackoverflow.com/a/9754838) adapted and used to verify valid image url for direct url input avatar selection.

-   [Stackoverflow post by Roko C. Buljan](https://stackoverflow.com/a/17541916) adapted and used to allow avatar images to be used in place of typical radio buttons.

-   [Geeksforgeeks](https://www.geeksforgeeks.org/python-404-error-handling-in-flask/) article on handling 404 errors using Flask.

-   [hover.css](https://ianlunn.github.io/Hover/) hvr.icon-spin styling used in style.css to implement hover and focus effects on post edit button.

### Content

-   All of the text content on the site was produced by myself, or friends and family when testing.

### Media

-   All button and illustrative icons were sourced and imported from [FontAwesome](https://fontawesome.com/)
-   Favicon created using [Favicon.io](https://favicon.io/)


#### Original creators and links to images
-   User Avatar icons designed by [Freepik.com](https://www.freepik.com/) [link to download location](https://speckyboy.com/free-cute-user-avatar-icon-set/)


### Acknowledgements

- My mentor Oluwafemi for his guidance and advice throughout the project.
